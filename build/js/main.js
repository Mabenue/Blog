"use strict";angular.module("myApp",["ngRoute","ngFileUpload","myApp.home","myApp.contact","myApp.about","myApp.login","myApp.signup","myApp.post"]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"partials/Home.html",controller:"HomeCtrl"}).when("/signup",{templateUrl:"partials/Signup.html",controller:"SignupCtrl"}).when("/login",{templateUrl:"partials/Login.html",controller:"LoginCtrl"}).when("/post",{templateUrl:"partials/Post.html",controller:"PostCtrl"}).when("/contact",{templateUrl:"partials/Contact.html",controller:"ContactCtrl"}).when("/about",{templateUrl:"partials/About.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/home"}),o.html5Mode(!0),o.hashPrefix("!")}]).controller("LandingCtrl",["$scope",function(t){t.banner="img/hexaglogo.svg",t.textBackground="img/zwartevilt.png",t.background="img/footer_lodyas.png"}]),angular.module("myApp.about",["ngRoute"]).controller("AboutCtrl",[function(){}]),angular.module("myApp.contact",["ngRoute"]).controller("ContactCtrl",[function(){}]),angular.module("myApp.home",["ngRoute"]).controller("HomeCtrl",["$scope","$http",function(t,o){o.get("/api/posts").success(function(o){t.posts=o}).error(function(){t.error="An error occurred loading posts"}),o.get("/api/loggedin").success(function(o){t.loggedUser=o}).error(function(){t.error="An error occurred loading posts"})}]),angular.module("myApp.login",["ngRoute"]).controller("LoginCtrl",["$scope","$http","$location",function(t,o,n){t.loginData={},t.loginData.username="",t.loginData.password="",t.login=function(){o.post("/api/login",this.loginData).success(function(){n.path("/")}).error(function(){n.path("/singup")})}}]),angular.module("myApp.post",["ngRoute"]).controller("PostCtrl",["$scope","$http","Upload","$timeout",function(t,o,n,l){t.$watch("files",function(){t.upload(t.files)}),t.postData={},t.postData.paths=[],t.upload=function(o){if(o)for(var l=0;l<o.length;l++){var e=o[l];console.log(e),n.upload({url:"/api/attachment",fields:{},file:e}).success(function(o){t.postData.paths=o})}},t.newPost=function(){o.post("/api/posts",this.postData).success(function(){alert("Post Submitted")})}}]),angular.module("myApp.signup",["ngRoute"]).controller("SignupCtrl",["$scope","$http",function(t,o){t.signupModel={},t.signupModel.username="",t.signupModel.password="",t.signupModel.verify="",t.signup=function(){o.post("/api/signup",this.signupModel).success(function(){alert("Signed Up!")})}}]);